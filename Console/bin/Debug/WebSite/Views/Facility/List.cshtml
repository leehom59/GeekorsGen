@model JamZooMng.Models.FacilityListModel
@{
    ViewBag.Title = "List";
    Layout = "~/Views/Shared/_Master.cshtml";
}


    <div class="editArea">

        <h2>@Html.MvcSiteMap().SiteMapTitle()&nbsp;&nbsp;<span class="notes"></span></h2>
    
        <script type="text/javascript">
            function submitForm() {
                document.forms["form1"].submit();
            };

            function goToPage(args) {
                $('#Criteria_Pager_PageIndex').val(args.pageIndex);
                $('#Criteria_Pager_PageSize').val(args.pageSize);
                submitForm();
            };

            function orderBy(args) {
                $('#Criteria_OrderBy_Field').val(args.field);
                $('#Criteria_OrderBy_Mode').val(args.mode);

                submitForm();
            };
        </script>
        @{
            string _Controller = Request.RequestContext.RouteData.Values["controller"].ToString();
        }
        @using (Html.BeginForm("List", _Controller, FormMethod.Get, new { @id = "form1" }))
        {
            @Html.HiddenFor(p => p.Criteria.Search.KeyWord)
            @Html.HiddenFor(p => p.Criteria.Pager.PageIndex)
            @Html.HiddenFor(p => p.Criteria.Pager.PageSize)
            @Html.HiddenFor(p => p.Criteria.OrderBy.Field)
            @Html.HiddenFor(p => p.Criteria.OrderBy.Mode)
        }

		@using (Html.BeginForm("List", _Controller, FormMethod.Get))
        {
            <table border="0" cellpadding="0" cellspacing="0" class="searchTable">
	            <tbody><tr>
		            <td width="60%">&nbsp;</td>
		            <td class="select">關鍵字：
                        @Html.TextBoxFor(p => p.Criteria.Search.KeyWord, new { @class="txt2", size="16" })</td>
		            <td width="6%" class="btn">
                        <input type="submit" class="btn" value="查詢" /></td>
		            </tr>
	            </tbody>
            </table>
        }
		    
        @Html.Partial("_Pager", Model.Pager)

		<table border="0" cellpadding="0" cellspacing="0" class="listTable">
            <tbody>
                <tr>
                  <th width="40">編輯</th>
										<th width="50"><img border="0" src="@(Url.Content("~/images/ascending.gif"))" style="cursor:hand;cursor:pointer;" onclick="javascript:orderBy({field:'Title',mode:'desc'});" title="由大到小排序" />&nbsp;標題&nbsp;<img border="0" src="@(Url.Content("~/images/descending.gif"))" style="cursor:hand;cursor:pointer;" onclick="javascript:orderBy({field:'Title',mode:'asc'});" title="由小到大排序"></th>
					<th width="50"><img border="0" src="@(Url.Content("~/images/ascending.gif"))" style="cursor:hand;cursor:pointer;" onclick="javascript:orderBy({field:'Title_En',mode:'desc'});" title="由大到小排序" />&nbsp;英文標題&nbsp;<img border="0" src="@(Url.Content("~/images/descending.gif"))" style="cursor:hand;cursor:pointer;" onclick="javascript:orderBy({field:'Title_En',mode:'asc'});" title="由小到大排序"></th>
					<th width="50"><img border="0" src="@(Url.Content("~/images/ascending.gif"))" style="cursor:hand;cursor:pointer;" onclick="javascript:orderBy({field:'Orders',mode:'desc'});" title="由大到小排序" />&nbsp;排序&nbsp;<img border="0" src="@(Url.Content("~/images/descending.gif"))" style="cursor:hand;cursor:pointer;" onclick="javascript:orderBy({field:'Orders',mode:'asc'});" title="由小到大排序"></th>
					<th width="50"><img border="0" src="@(Url.Content("~/images/ascending.gif"))" style="cursor:hand;cursor:pointer;" onclick="javascript:orderBy({field:'Create_Date',mode:'desc'});" title="由大到小排序" />&nbsp;建立日期&nbsp;<img border="0" src="@(Url.Content("~/images/descending.gif"))" style="cursor:hand;cursor:pointer;" onclick="javascript:orderBy({field:'Create_Date',mode:'asc'});" title="由小到大排序"></th>
					<th width="50"><img border="0" src="@(Url.Content("~/images/ascending.gif"))" style="cursor:hand;cursor:pointer;" onclick="javascript:orderBy({field:'Online',mode:'desc'});" title="由大到小排序" />&nbsp;是否啟用&nbsp;<img border="0" src="@(Url.Content("~/images/descending.gif"))" style="cursor:hand;cursor:pointer;" onclick="javascript:orderBy({field:'Online',mode:'asc'});" title="由小到大排序"></th>

                  <th width="40">刪除</th>
                </tr>  
                @Html.Partial("_Grid", Model.Data)
            </tbody>
        </table>       
        
        @Html.Partial("_Pager", Model.Pager)

</div>






